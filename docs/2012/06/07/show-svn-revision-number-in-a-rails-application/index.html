<!DOCTYPE html>
<html><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="map[]">
    <meta name="generator" content="Hugo 0.63.2" />
    <title>noone.dev</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
</head><body><nav class="navbar is-light" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
        <a class="navbar-item" href="/">
            <img src="/apple-touch-icon.png" width="32" height="32">&nbsp;&nbsp;<strong>noone.dev</strong>
        </a>
        
            <a class="navbar-item" href="/posts/"> posts </a>
        
    </div>
</nav><section class="section">
        <div class="container">
<p class="title is-4"><a href="/2012/06/07/show-svn-revision-number-in-a-rails-application/">Show SVN revision number in a Rails application</a></p>
<p class="subtitle is-6 has-text-grey"><i class="fas fa-calendar-alt" aria-hidden="true"></i> June 7, 2012</p>
<hr />
<div class="content">
    <p>This is a hack to display the Subversion revision in a Rails application using <!-- raw HTML omitted -->Capistrano<!-- raw HTML omitted --> to insert the current revision number on each deploy.</p>
<p>Create a partial that will contain the revision number. For example, _~/app/views/layouts/<em>revision.html.erb</em>. You can put anything in that file, as it will be overwritten by Capistrano on each deploy. The word “Development” or “Current” seems a good choice.</p>
<p>In the page where you want to display the revision number (probably in the application layout), render the partial. In development mode, you’ll see something like “version 1.0.Development”. In your deployment environment, you’ll see the SVN revision number, like so: “version 1.0.504”.</p>
<!-- raw HTML omitted -->
<p>To set up Capistrano, edit the <em>~/config/deploy.rb</em> file (assuming you are already using Capistrano for deployments). Add a task to get the SVN version and write that to your revision partial. For some reason, pointing to the “/current” directory doesn’t work – probably because of the way Capistrano links directories. Therefore, just point SVN to any subdirectory or file to get the version.</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>And tell Capistrano to run this task just before restarting the application:</p>
<!-- raw HTML omitted -->

</div>

        </div>
    </section><footer class="footer">
    <div class="content has-text-centered">
        <p>
            
                
                    <a style="margin-right: 8px;" href="https://github.com/cleverswine/" aria-label="Github"   >
                        <i class="fab fa-github fa-2x" aria-hidden="true"></i>
                    </a>
                
                    <a style="margin-right: 8px;" href="https://twitter.com/cleverswine/" aria-label="Twitter"   >
                        <i class="fab fa-twitter fa-2x" aria-hidden="true"></i>
                    </a>
                
                    <a style="margin-right: 8px;" href="https://www.linkedin.com/in/kevinnoone/" aria-label="LinkedIn"   >
                        <i class="fab fa-linkedin fa-2x" aria-hidden="true"></i>
                    </a>
                
                    <a style="margin-right: 8px;" href="http://www.flickr.com/photos/cleverswine/" aria-label="Flickr"   >
                        <i class="fab fa-flickr fa-2x" aria-hidden="true"></i>
                    </a>
                
                    <a style="margin-right: 8px;" href="http://noone.dev/index.xml" aria-label="RSS" rel="alternate"   type="application/rss&#43;xml" >
                        <i class="fas fa-rss fa-2x" aria-hidden="true"></i>
                    </a>
                
            
        </p>
        <p> © 2020 Kevin Noone · Powered by <a href="https://gohugo.io/">Hugo</a> & <a href="https://bulma.io/">Bulma</a></p>
    </div>
</footer></body>

</html>